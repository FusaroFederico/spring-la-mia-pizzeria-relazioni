<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
	<head th:insert="~{fragments\fragments :: head}">
	</head>
	<body>
		<header th:replace="~{fragments\fragments :: header}">
		</header>
		
		<main class="container">
			<div class="row m-4 mx-auto justify-content-md-center">
				
				<div class="col-8 text-center mb-3">
					<h2 class="mt-3 mb-4">Lista Degli Ingredienti</h2>
					
					<!-- Alert message -->
					<th:block th:if="${successMessage != null}">
						<div th:replace="~{fragments\fragments :: successAlert(${successMessage}, ${alertClass})}"></div>
					</th:block>
					<!-- /Alert message -->
					
					<th:block th:if="${ingredients.size() > 0}">
						<table class="table table-striped table-bordered">
							<thead>
								<tr>
									<th>Nome</th>
									<th>Disponibilità</th>
									<th>Pizze che lo utilizzano</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each=" ingredient : ${ingredients}">
									<td class="align-middle"> [[ ${ingredient.name} ]] </td>
									<td class="align-middle"> [[ ${ingredient.availability} ]] </td>
									<td class="align-middle" >
										<span th:each=" pizza : ${ingredient.pizzas} ">
											<a th:href="@{/pizzas/{id}(id = ${pizza.id})}">[[ ${pizza.name} ]]</a>, </span>
									</td>
									<!-- <td class="d-flex justify-content-center">
										<a class="btn btn-success me-3" th:href="@{/specialOffers/edit/{id}(id = ${offer.id})}" role="button">Modifica</a>
										<form method="post" th:action="@{/specialOffers/delete/{id}(id = ${offer.id})}">
											<button class="btn btn-danger"  type="submit">Elimina</button>
									    </form>
									</td> -->
								</tr>
							</tbody>
						</table>
					</th:block>
					<th:block th:unless="${ingredients.size() > 0}">
						<h3>Nessun ingrediente al momento disponibile...</h3>					
					</th:block>
					<div class="d-flex justify-content-between">
						<!-- <a class="btn btn-primary" href="/pizzas" role="button">Torna al menù</a> -->
						<a class="btn btn-primary" th:href="@{/ingredients/create}" role="button">Aggiungi ingrediente</a>
					</div>
				</div>
			</div>
		</main>
		
		<footer th:replace="~{fragments\fragments :: footer}">
		</footer>
		
		<div th:replace="~{fragments\fragments :: scripts}"></div>
	</body>
</html>